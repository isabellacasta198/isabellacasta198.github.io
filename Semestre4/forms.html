<!DOCTYPE html>
<html>
    <head>
        <title>Registro de estudiantes</title>
    </head>
    <body>
        <html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro de Estudiantes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
  <h2 class="mb-4">Registro de Estudiantes</h2>
  <form id="studentForm" class="mb-4">

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input type="text" class="form-control" id="nombre" required>
    </div>

    <div class="mb-3">
      <label for="correo" class="form-label">Correo</label>
      <input type="email" class="form-control" id="correo" required>
    </div>

    <div class="mb-3">
      <label for="edad" class="form-label">Edad</label>
      <input type="number" class="form-control" id="edad" required>
    </div>
    <button type="submit" class="btn btn-primary">Registrar</button>
  </form>
  <h3>Lista de Estudiantes</h3>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Correo</th>
        <th>Edad</th>
      </tr>
    </thead>
    <tbody id="studentTable"></tbody>
 </table>
 <script>
    
    const apiURL = "https://jsonplaceholder.typicode.com/posts"; //servidor de mentiritas
    const form = document.getElementById("studentForm");
    const tableBody = document.getElementById("studentTable");

//el addEventListener recibe dos parámetros:
//1. evento
//2. función que la va a manejar
form.addEventListener("submit", function(e){
    e.preventDefault(); //Previene que se envié el sumit con el enter del usuario

    //se captura la informacion del formulario:
    const nombre =document.getElementById("nombre").value;
    const email =document.getElementById("correo").value;
    const edad =document.getElementById("edad").value;

    //se arma una "tupla" o "registros" con la info del estudiante :
    const student={nombre,email,edad};
    
    //usamos el metodo fetch para 

    fetch(apiURL,{
        method:"POST",
        headers:{"Content-Type":"applicaton/json"},
        body: JSON.stringify(student)
    })
    .then( res => res.json())
    .then(data =>{
        //creamos una nueva fila para la tabla:
        const row = `<tr>
            <td> ${student.nombre}</td>
            <td> ${student.email}</td>   
            <td> ${student.edad}</td> 
                </td>`;
        //agregamos la fila a la tabla vacia;
        tableBody.innerHTML += row;
        form.reset();
            })
        .catch(err => console.error("hubo un error:",err))    
    }  );
    
 </script></body></html>
    </body>
</html>
